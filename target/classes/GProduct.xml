<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="gproductns">
	<!-- Use type aliases to avoid typing the full classname every time. -->
	<resultMap id="gproductResult" type="gproduct">
		<result property="pro_num" column="pro_num" />
		<result property="pro_cate" column="pro_cate" />
		<result property="pro_name" column="pro_name" />
		<result property="pro_price" column="pro_price" />
		<result property="pro_sale" column="pro_sale" />
		<result property="pro_info" column="pro_info" />
		<result property="pro_image" column="pro_image" />
		<result property="pro_date" column="pro_date" />
		<result property="pro_count" column="pro_count" />
		<result property="pro_sell" column="pro_sell" />
	</resultMap>
	
	<select id="getTotal" resultType="int">
		select count(*) from Gproduct
	</select>
	
	<select id="list" parameterType="gproduct" resultMap="gproductResult">
	select * from (select a.*,rowNum rn from (
		select * from Gproduct
		<!-- <where>
			<if test="keyword != null and search != 'subcon'">
				${search} like '%'||#{keyword}||'%'
			</if>
			<if test="search == 'subcon'">
				subject like '%'||#{keyword}||'%' or content like '%'||#{keyword}||'%'
			</if>
		</where> -->
		order by pro_date) a )
		where rn between #{startRow} and #{endRow}
	</select>
	
	
</mapper>